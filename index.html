<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evacuator non-stop în Chișinău și suburbii.</title>
    <link rel="icon" href="Resources/Photo/Icons/WebIcon.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

        body {
            font-family: 'Exo 2', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        
        body.mobile-menu-open {
            overflow: hidden;
        }

        .nav-link { transition: all 0.3s ease; position: relative; }
        .nav-link.active::after {
            content: ''; position: absolute; left: 50%; bottom: -8px; width: 80%; height: 4px;
            background-color: #1e40af; border-radius: 9999px; transform: translateX(-50%);
            animation: fadeInScale 0.3s forwards;
        }
        @keyframes fadeInScale { from { transform: translateX(-50%) scaleX(0); opacity: 0; } to { transform: translateX(-50%) scaleX(1); opacity: 1; } }
        
        .content-section { display: none; padding: 1rem; padding: 2rem; animation: fadeIn 0.5s ease-in-out; overflow-y: auto; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Hero Carousel Styles */
        .hero-carousel-container { position: relative; width: 100%; height: 50vh; display: flex; justify-content: center; align-items: center; perspective: 1200px; }
        .carousel-slide { position: absolute; width: 90%; height: 100%; border-radius: 1.5rem; overflow: hidden; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.2); transition: transform 0.8s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.8s ease, z-index 0s 0.4s; cursor: pointer; }
        .carousel-slide img { width: 100%; height: 100%; object-fit: cover; }
        .carousel-slide.active { transform: translateX(0) scale(1); opacity: 1; z-index: 10; }
        .carousel-slide.prev { transform: translateX(-40%) scale(0.8); opacity: 0.5; z-index: 5; }
        .carousel-slide.next { transform: translateX(40%) scale(0.8); opacity: 0.5; z-index: 5; }
        .carousel-slide.hidden-prev { transform: translateX(-80%) scale(0.6); opacity: 0; z-index: 1; }
        .carousel-slide.hidden-next { transform: translateX(80%) scale(0.6); opacity: 0; z-index: 1; }
        .carousel-arrow { position: absolute; top: 50%; transform: translateY(-50%); z-index: 20; background-color: rgba(255, 255, 255, 0.7); border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: background-color 0.3s ease, transform 0.3s ease; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .carousel-arrow:hover { background-color: rgba(255, 255, 255, 1); transform: translateY(-50%) scale(1.1); }
        .arrow-left { left: 2%; }
        .arrow-right { right: 2%; }
        
        @media (min-width: 768px) {
            .hero-carousel-container { height: 60vh; }
            .carousel-slide { width: 70%; }
            .arrow-left { left: 5%; }
            .arrow-right { right: 5%; }
        }

        .attribute-card {
            background-color: #ffffff; border-radius: 1rem; padding: 2rem 1.5rem;
            text-align: center; border: 2px solid transparent; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            opacity: 0; animation: fadeInUp 0.5s ease-out forwards;
        }
        .attribute-card:hover { transform: translateY(-10px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); border-color: #34D399; }
        .attribute-card .icon { font-size: 3rem; margin: 0 auto 1.25rem auto; color: #10B981; }
        .attribute-card h4 { font-size: 1.125rem; font-weight: 700; color: #111827; margin-bottom: 0.5rem; }
        .attribute-card p { font-size: 0.9rem; line-height: 1.5; color: #4b5563; }
        .attribute-card:nth-child(1) { animation-delay: 0.1s; }
        .attribute-card:nth-child(2) { animation-delay: 0.2s; }
        .attribute-card:nth-child(3) { animation-delay: 0.3s; }
        .attribute-card:nth-child(4) { animation-delay: 0.4s; }
        .attribute-card:nth-child(5) { animation-delay: 0.5s; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        
        .service-card {
            background-color: #ffffff;
            border-radius: 1rem;
            padding: 2.5rem 2rem;
            border: 1px solid #e5e7eb;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            text-align: left;
            height: 100%; /* Ensure cards have same height */
        }
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 15px -3px rgba(30, 64, 175, 0.1);
            border-color: #3b82f6;
        }
        .service-card .icon {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #1e40af;
            display: inline-block;
        }
        .service-card h4 {
            font-size: 1.25rem;
            font-weight: 800;
            color: #111827;
            margin-bottom: 1rem;
        }
        .service-card p {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #4b5563;
        }

        .assistant-container {
            position: fixed; bottom: 1rem; right: 1rem; z-index: 50;
            display: flex; flex-direction: column; align-items: center;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s cubic-bezier(0.25, 0.8, 0.25, 1), transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .assistant-container.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .assistant-avatar { cursor: pointer; position: relative; }
        .rotating-border { position: relative; border-radius: 9999px; padding: 4px; overflow: hidden; }
        .rotating-border::before {
            content: ''; position: absolute; top: 50%; left: 50%; width: 150%; height: 150%;
            background: conic-gradient(from 0deg, transparent 50%, #FBBF24, #F97316, transparent 80%);
            animation: spin-light 4s linear infinite; transform-origin: center center; transform: translate(-50%, -50%); z-index: 1;
        }
        @keyframes spin-light { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
        .dot { position: absolute; top: 0; right: 0; width: 10px; height: 10px; border-radius: 50%; background-color: #22c55e; border: 2px solid #fff; z-index: 3;}
        .social-icons { display: flex; flex-direction: column; align-items: flex-end; margin-bottom: 1rem; }
        .social-item { display: flex; align-items: center; margin-top: 12px; opacity: 0; transform: translateX(20px); transition: opacity 0.3s ease, transform 0.3s ease; }
        .social-icon { width: 48px; height: 48px; transition: transform 0.3s ease; display: flex; justify-content: center; align-items: center; }
        .social-icon img { width: 100%; height: 100%; object-fit: contain; }
        .social-icon img[alt="Telegram"] { width: 80%; height: 80%; }
        .social-icon:hover { transform: scale(1.15); }
        .social-label { margin-right: 1rem; font-weight: bold; color: #fff; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .assistant-container.active .social-item { opacity: 1; transform: translateX(0); }
        .assistant-container.active .social-item:nth-child(1) { transition-delay: 0.1s; }
        .assistant-container.active .social-item:nth-child(2) { transition-delay: 0.2s; }
        .assistant-container.active .social-item:nth-child(3) { transition-delay: 0.3s; }
        .comic-bubble {
            position: absolute; bottom: 110%; left: 50%; transform: translateX(-65%) scale(0); transform-origin: bottom center;
            background-color: white; color: #1f2937; padding: 0.75rem 1.25rem; border-radius: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); font-size: 0.9rem; font-weight: 600;
            opacity: 0; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); pointer-events: none;
            max-width: 180px; text-align: center;
        }
        .comic-bubble::after {
            content: ''; position: absolute; bottom: -10px; left: 65%; transform: translateX(-50%);
            width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid white;
        }
        .comic-bubble.show { opacity: 1; transform: translateX(-65%) scale(1); }

        /* Call Us Button & Phone Icon Animation */
        .call-us-button {
            background-color: #F97316; color: white; padding: 0.75rem 1.5rem; border-radius: 9999px;
            font-weight: 700; display: flex; align-items: center; transition: transform 0.3s ease-in-out;
        }
        .call-us-button:hover { transform: scale(1.05); }
        .call-us-button .fa-phone { display: inline-block; margin-right: 0.75rem; animation: shake-phone 2s ease-in-out infinite; }
        .call-us-button:hover .fa-phone { animation-play-state: paused; }
        .mobile-phone-icon { animation: shake-phone 2s ease-in-out infinite; }
        
        @keyframes shake-phone {
            0%, 100% { transform: rotate(0); } 10%, 30%, 50%, 70% { transform: rotate(-10deg); }
            20%, 40%, 60%, 80% { transform: rotate(10deg); } 90% { transform: rotate(0); }
        }
        
        /* Calculator Styles */
        .calculator-card {
            background: linear-gradient(145deg, #ffffff, #f7f8fa);
            padding: 1.5rem; /* Reduced padding for mobile */
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .calculator-card {
                padding: 2.5rem; /* Restore padding for larger screens */
            }
        }


        /* Towing Truck Animation Styles */
        #loaderContainer { position: relative; width: 100%; height: 100px; overflow: hidden; }
        #counter {
            position: absolute; top: 50%; left: 50px; transform: translateY(-50%); display: none;
            color: #1f2937; user-select: none; font-family: 'Orbitron', monospace; font-weight: 700;
            font-size: 19px; letter-spacing: 0.5px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        #loaderTruckImage {
            position: absolute; top: 50%; right: -100px; transform: translateY(-50%);
            width: 80px; height: auto; display: none;
        }

        /* Custom Dropdown Styles */
        .custom-select-container { position: relative; }
        .custom-select-options {
            position: absolute; top: calc(100% + 8px); left: 0; right: 0; z-index: 30;
            background-color: white; border-radius: 0.75rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb; max-height: 200px; overflow-y: auto; opacity: 0;
            transform: scaleY(0.95); transform-origin: top; transition: all 0.2s ease-out; pointer-events: none;
        }
        .custom-select-container.open .custom-select-options { opacity: 1; transform: scaleY(1); pointer-events: auto; }
        .custom-select-option { padding: 0.75rem 1rem; cursor: pointer; transition: background-color 0.2s ease; }
        .custom-select-option:hover, .custom-select-option.selected { background-color: #f0f3ff; }
        .custom-select-option.selected { font-weight: 600; color: #1e40af; }
        .custom-select-trigger {
            background-color: white;
            transition: background-color 0.2s ease;
        }
        .custom-select-trigger:disabled {
             background-color: #f3f4f6; /* bg-gray-100 */
             cursor: not-allowed;
             opacity: 0.7;
        }
        .custom-select-trigger .fa-chevron-down { transition: transform 0.3s ease; }
        .custom-select-container.open .custom-select-trigger .fa-chevron-down { transform: rotate(180deg); }

        .status-display {
            display: flex;
            align-items: center;
            background-color: #ffffff;
            padding: 2px 8px;
            border-radius: 9999px;
            border: 1px solid #e5e7eb;
        }
        .status-led {
            width: 12px; height: 12px; border-radius: 9999px;
            border: 1px solid rgba(0,0,0,0.1);
            margin-right: 6px;
        }
        @keyframes pulse-scale {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .pulse-normal { animation: pulse-scale 1.5s ease-in-out infinite; }
        .pulse-slow { animation: pulse-scale 3s ease-in-out infinite; }
        .pulse-fast { animation: pulse-scale 0.75s ease-in-out infinite; }
        
        /* Service Carousel Responsive Styles */
        @media (max-width: 767px) { /* Below md breakpoint */
          #service-carousel-track {
            display: block; /* Stack cards vertically */
            transform: none !important; /* Disable JS transform */
          }
          #service-carousel-container {
            overflow: visible; /* Prevent clipping */
          }
          #service-carousel-track > div { /* Target the wrapper divs */
            width: 100%; /* Ensure they take full width */
            margin-bottom: 1.5rem; /* Add space between stacked cards */
          }
        }

        /* Other Styles */
        .gallery-image { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .gallery-image:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.2); }
        .button-hover-effect { position: relative; z-index: 1; overflow: hidden; }
        .button-hover-effect:before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.4)); transition: all 0.3s ease-in-out; transform: scaleX(0); transform-origin: left; z-index: -1; }
        .button-hover-effect:hover:before { transform: scaleX(1); }
        
        /* Modern Segmented Toggle Control */
        .mode-toggle-container {
            display: inline-flex;
            background: #f3f4f6;
            border-radius: 12px;
            padding: 4px;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
        }
        .mode-toggle-option {
            position: relative;
            z-index: 2;
            padding: 10px 20px;
            font-size: 0.875rem;
            font-weight: 600;
            color: #6b7280;
            cursor: pointer;
            transition: color 0.3s ease;
            white-space: nowrap;
            user-select: none;
        }
        .mode-toggle-option.active {
            color: #1f2937;
        }
        .mode-toggle-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        @media (max-width: 640px) {
            .mode-toggle-option {
                padding: 8px 16px;
                font-size: 0.8rem;
            }
        }
    </style>
    <style>
      
        .footer {
            background-color: #111827;
            color: #9ca3af;
            padding: 2.5rem 1rem; 
        }
        .footer-content {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            margin-bottom: 2.5rem;
        }
        @media (min-width: 768px) {
            .footer-content {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        .footer-section h4 { font-size: 1.25rem; font-weight: 700; color: #ffffff; margin-bottom: 1rem; }
        .footer-section p, .footer-section a { font-size: 0.9rem; line-height: 1.5; color: #d1d5db; text-decoration: none; transition: color 0.3s ease; }
        .footer-section a:hover { color: #ffffff; }
        .footer-links li { margin-bottom: 0.5rem; }
        .social-icons-row { display: flex; gap: 1.5rem; margin-top: 1rem; }
        .social-icon-link { font-size: 1.5rem; color: #9ca3af; transition: color 0.3s ease, transform 0.3s ease; }
        .social-icon-link:hover { color: #ffffff; transform: scale(1.1); }
        .footer-copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #374151;
            font-size: 0.875rem;
            color: #9ca3af;
        }

        #mobile-menu {
            transition: transform 0.3s ease-in-out;
            transform: translateX(100%);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }

        #page-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(31, 41, 55, 0.5); /* bg-gray-800 with 50% opacity */
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px); /* For Safari support */
            z-index: 49;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        #page-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        #dismiss-drop-zone {
            transition: transform 0.3s ease, background-color 0.3s ease;
            transform: translateX(-50%) scale(0);
            pointer-events: none; /* Initially not interactive */
        }
        #dismiss-drop-zone.visible {
            transform: translateX(-50%) scale(1);
            pointer-events: auto; /* Make it interactive when visible */
        }
        #dismiss-drop-zone.hover {
            transform: translateX(-50%) scale(1.2);
            background-color: #ef4444; /* red-500 */
        }
        .assistant-container.dragging {
            opacity: 0.5;
            cursor: grabbing;
            transition: none; /* Disable transitions while dragging */
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-sm py-4 sticky top-0 z-40">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" data-section="home" class="nav-link">
                <h1 class="text-2xl md:text-3xl font-extrabold text-blue-800 tracking-tight">evacuator2424</h1>
            </a>
            
            <nav class="hidden lg:flex items-center space-x-8">
                <ul class="flex space-x-8">
                    <li><a href="#" data-section="home" class="nav-link font-medium text-gray-600 hover:text-gray-900 active">Acasă</a></li>
                    <li><a href="#" data-section="services" class="nav-link font-medium text-gray-600 hover:text-gray-900">Servicii</a></li>
                    <li><a href="#" data-section="gallery" class="nav-link font-medium text-gray-600 hover:text-gray-900">Galerie</a></li>
                    <li><a href="#" data-section="flota" class="nav-link font-medium text-gray-600 hover:text-gray-900">Flotă</a></li>
                    <li><a href="#" data-section="recenzii" class="nav-link font-medium text-gray-600 hover:text-gray-900">Recenzii</a></li>
                    <li><a href="#" data-section="calculator" class="nav-link font-medium text-gray-600 hover:text-gray-900">Calculator Tarif</a></li>
                </ul>
                <a href="tel:068223614" class="call-us-button">
                    <i class="fas fa-phone"></i>
                    <span>068223614</span>
                </a>
            </nav>

            <!-- Mobile Right-Side Controls -->
            <div class="lg:hidden flex items-center space-x-4">
                <a href="tel:068223614" class="text-gray-800 hover:text-blue-800">
                    <i class="fas fa-phone text-2xl mobile-phone-icon"></i>
                </a>
                <button id="mobile-menu-button" class="text-gray-800 hover:text-blue-800 focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <div id="mobile-menu" class="fixed top-0 right-0 h-full w-full max-w-xs bg-white shadow-lg z-50 p-8 lg:hidden">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-bold text-blue-800">Meniu</h2>
            <button id="mobile-menu-close-button" class="text-gray-600 hover:text-gray-900">
                 <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        <nav class="flex flex-col space-y-6">
            <a href="#" data-section="home" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Acasă</a>
            <a href="#" data-section="services" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Servicii</a>
            <a href="#" data-section="gallery" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Galerie</a>
            <a href="#" data-section="flota" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Flotă</a>
            <a href="#" data-section="recenzii" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Recenzii</a>
            <a href="#" data-section="calculator" class="mobile-nav-link text-lg text-gray-700 hover:text-blue-800 font-semibold">Calculator Tarif</a>
            <a href="tel:068223614" class="call-us-button mt-4">
                <i class="fas fa-phone"></i>
                <span>068223614</span>
            </a>
        </nav>
    </div>

    <main class="flex-1 overflow-auto">
        <!-- Home Section -->
        <section id="home" class="content-section active">
            <div class="container mx-auto px-4 lg:px-12 pt-8">
                <div class="hero-carousel-container">
                    <div class="carousel-slide" data-index="0"><img src="Resources/Photo/HeroImages/HeroImage_1.jpg" alt="Hero Image 1" /></div>
                    <div class="carousel-slide" data-index="1"><img src="Resources/Photo/HeroImages/HeroImage_2.jpg" alt="Hero Image 2" /></div>
                    <div class="carousel-slide" data-index="2"><img src="Resources/Photo/HeroImages/HeroImage_3.jpg" alt="Hero Image 3" /></div>
                    <div class="carousel-slide" data-index="3"><img src="Resources/Photo/HeroImages/HeroImage_4.jpg" alt="Hero Image 4" /></div>
                    <div class="carousel-arrow arrow-left"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></div>
                    <div class="carousel-arrow arrow-right"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></div>
                </div>
                <div class="mt-12 md:mt-16 mb-10">
                    <h3 class="text-2xl font-extrabold text-gray-900 text-center mb-10">De ce noi?</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
                        <div class="attribute-card"><i class="fas fa-headset icon"></i><h4>Asistență 24/24</h4><p>Zi sau noapte, echipa este mereu gata de intervenție.</p></div>
                        <div class="attribute-card"><i class="fas fa-globe-americas icon"></i><h4>Acoperire Internațională</h4><p>Serviciile noastre se extind și peste hotare.</p></div>
                        <div class="attribute-card"><i class="fas fa-file-invoice-dollar icon"></i><h4>Transparență</h4><p>Fără taxe ascunse. Oferim prețuri clare, de la bun început.</p></div>
                        <div class="attribute-card"><i class="fas fa-truck-pickup icon"></i><h4>Echipament Profesional</h4><p>Folosim autospeciale performante și sigure.</p></div>
                        <div class="attribute-card"><i class="fas fa-motorcycle icon"></i><h4>Evacuări Versatile</h4><p>De la motociclete la SUV-uri, transportăm o gamă largă de vehicule în siguranță.</p></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="content-section">
            <div class="container mx-auto px-4 lg:px-10 py-6 lg:py-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4"></h2>
                <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">Oferim o gamă largă de servicii profesionale de tractare și transport. Misiunea noastră este să oferim soluții rapide, fiabile și transparente pentru toate nevoile vehiculului dumneavoastră.</p>
                
                <div id="service-carousel-container" class="relative w-full md:overflow-hidden">
                    <div id="service-carousel-track" class="md:flex md:-mx-4">
                        <!-- Service Card 1 -->
                        <div class="w-full md:w-1/3 md:flex-shrink-0 md:p-4">
                            <div class="service-card">
                                <i class="fas fa-truck-pickup icon"></i>
                                <h4>Tractări complete</h4>
                                <p>Preluăm orice, de la motociclete și autoturisme, la SUV-uri și vehicule comerciale ușoare. Serviciile noastre includ tractări standard, recuperare în caz de accident și transport specializat pe platformă pentru mașini sport și mașini de epocă. Asigurăm o manevrare fără daune.</p>
                            </div>
                        </div>
                        <!-- Service Card 2 -->
                        <div class="w-full md:w-1/3 md:flex-shrink-0 md:p-4">
                            <div class="service-card">
                                <i class="fas fa-tags icon"></i>
                                <h4>Prețuri transparente</h4>
                                <p>Prețurile noastre sunt simple și clare. Tarifele se bazează pe greutatea vehiculului (MOTO/ATV, &lt;2000kg, &gt;2000kg) și pe distanța totală dus-întors. Serviciile suplimentare, cum ar fi manevrarea unui vehicul avariat, au taxe fixe și clare. Folosiți calculatorul nostru pentru o estimare instantanee și onestă.</p>
                            </div>
                        </div>
                        <!-- Service Card 3 -->
                        <div class="w-full md:w-1/3 md:flex-shrink-0 md:p-4">
                            <div class="service-card">
                                <i class="fas fa-globe-europe icon"></i>
                                <h4>Național & Internațional</h4>
                                <p>Acoperirem toate raioanele Republicii Moldova. De asemenea, suntem specializați în tractări pe distanțe lungi, transfrontaliere, către țări vecine precum România, Ucraina, Bulgaria sau Ungaria. Gestionăm toată logistica pentru a ne asigura că vehiculul dumneavoastră ajunge la destinație în siguranță și la timp.</p>
                            </div>
                        </div>
                        <!-- Service Card 4 -->
                        <div class="w-full md:w-1/3 md:flex-shrink-0 md:p-4">
                           <div class="service-card">
                                <i class="fas fa-shipping-fast icon"></i>
                                <h4>Răspuns Imediat 24/7</h4>
                                <p>Suntem mereu la datorie, indiferent de oră. Având baza în Chișinău, garantăm o intervenție ultra-rapidă. În cazul în care vă aflați în raza orașului sau în suburbii, autospeciala  ajunge la dumneavoastră chiar și în 30 de minute de la apel. Găsim mereu un șofer disponibil pentru a vă oferi ajutor eficient.</p>
                            </div>
                        </div>
                         <!-- Service Card 5 (New) -->
                        <div class="w-full md:w-1/3 md:flex-shrink-0 md:p-4">
                           <div class="service-card">
                                <i class="fas fa-handshake icon"></i>
                                <h4>Parteneriate B2B & Flote Auto</h4>
                                <p>Oferim soluții personalizate pentru companiile care dețin flote auto. Încheiați un parteneriat cu noi pentru a beneficia de servicii prioritare și tarife preferențiale pentru toate vehiculele companiei. Asigurăm intervenții rapide pentru a minimiza timpul de inactivitate al mașinilor, fie că este vorba de vehicule de livrare, taxiuri sau mașini corporate. Contactați-ne pentru o ofertă personalizată.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="content-section">
            <div class="container mx-auto px-4 lg:px-10 py-6 lg:py-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-6">Cazuri reale ale clienților</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6">
                    <img src="Resources/Photo/Gallery/Gal_1.jpg" alt="Imagine Galerie 1" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_2.jpg" alt="Imagine Galerie 2" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_3.jpg" alt="Imagine Galerie 3" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_4.jpg" alt="Imagine Galerie 4" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_5.jpg" alt="Imagine Galerie 5" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_6.jpg" alt="Imagine Galerie 6" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <img src="Resources/Photo/Gallery/Gal_7.jpg" alt="Imagine Galerie 7" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />
                    <!--<img src="Resources/Photo/Gallery/Gal_8.jpg" alt="Imagine Galerie 8" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />-->
                    <!--<img src="Resources/Photo/Gallery/Gal_9.jpg" alt="Imagine Galerie 9" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />-->
                    <!--<img src="Resources/Photo/Gallery/Gal_10.jpg" alt="Imagine Galerie 10" class="gallery-image w-full aspect-square object-cover rounded-lg shadow-md cursor-pointer" />-->
                </div>
            </div>
        </section>

        <!-- Fleet Section -->
        <section id="flota" class="content-section">
            <div class="container mx-auto p-4 lg:p-10">
                <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                    <!-- Driver Card -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center text-center max-w-sm">
                        <img src="Resources/Photo/Icons/Icon_Driver.jpg" alt="Șofer 1" class="w-32 h-32 mb-4 object-cover" />
                        <div class="flex items-center justify-center gap-x-3 mb-2">
                             <h3 class="text-xl md:text-2xl font-bold text-gray-900">Daniel</h3>
                             <div id="driver-1-status" class="status-display">
                                <span class="status-led bg-white"></span>
                                <span class="text-xs font-semibold text-black">Se încarcă...</span>
                            </div>
                        </div>
                        <p class="text-gray-500 mb-2">068223614</p>
                        <p class="text-gray-700 font-light">Fondator și Șofer Principal</p>
                    </div>
                    <!-- Vehicle Card -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center text-center max-w-sm">
                        <img src="Resources/Photo/Icons/Icon_Car.jpg" alt="Mercedes Sprinter" class="w-full h-48 rounded-lg object-cover mb-4" />
                        <h3 class="text-xl md:text-2xl font-bold text-gray-900">Mercedes Sprinter</h3>
                        <p class="text-gray-700 mt-1">Anul producerii: 2007</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reviews Section -->
        <section id="recenzii" class="content-section">
            <div class="container mx-auto px-4 lg:px-10 py-8 lg:py-12">
                <!-- Section Description -->
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed">
                    Ne mândrim cu încrederea pe care clienții ne-o acordă. Fiecare recenzie este o dovadă a profesionalismului și dedicării echipei noastre.
                </p>
                
                <!-- Reviews Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 max-w-7xl mx-auto mb-12">
                    <!-- Review Card 1 -->
                    <div class="bg-white p-8 rounded-2xl shadow-md hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-gray-100">
                        <div class="mb-6">
                            <img src="Resources/Photo/Reviews/Review_1_ValerioR.png" alt="Avatar Valerio R" class="w-20 h-20 rounded-full mx-auto object-cover border-4 border-blue-100 shadow-sm">
                        </div>
                        <h4 class="text-lg font-bold text-center text-gray-900 mb-1">Valerio R</h4>
                        <p class="text-xs text-gray-500 text-center mb-4 uppercase tracking-wide">Persoană Fizică</p>
                        <div class="flex justify-center mb-4 gap-1">
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                        </div>
                        <p class="text-gray-700 text-center text-sm leading-relaxed">"Sunt foarte mulțumit de serviciile oferite de Daniel, rapid, sigur, iar prețul a fost unul cinstit. Voi recomanda tuturor serviciile voastre. Mulțumesc!"</p>
                    </div>
                    
                    <!-- Review Card 2 -->
                    <div class="bg-white p-8 rounded-2xl shadow-md hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-gray-100">
                        <div class="mb-6">
                            <img src="Resources/Photo/Reviews/Review_2_DarPentruMoldova.png" alt="DAR PENTRU MOLDOVA" class="w-20 h-20 rounded-full mx-auto object-cover border-4 border-blue-100 shadow-sm">
                        </div>
                        <h4 class="text-lg font-bold text-center text-gray-900 mb-1">DAR PENTRU MOLDOVA</h4>
                        <p class="text-xs text-gray-500 text-center mb-4 uppercase tracking-wide">Companie</p>
                        <div class="flex justify-center mb-4 gap-1">
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                        </div>
                        <p class="text-gray-700 text-center text-sm leading-relaxed">"Am comandat un evacuator și am rămas foarte mulțumit. Serviciul a fost rapid, profesionist și de încredere. Băiatul și-a făcut treaba impecabil! Recomand cu încredere!"</p>
                    </div>
                </div>
                
                <!-- Disclaimer -->
                <div class="max-w-3xl mx-auto mt-8">
                    <div class="bg-gray-50 rounded-xl p-4 border-l-4 border-blue-400">
                        <p class="text-xs text-gray-600 text-center leading-relaxed">
                            <i class="fas fa-info-circle text-blue-400 mr-1"></i>
                            Recenziile au fost modificate vizual pentru scopuri atractive, toate recenziile sunt reale și susținute de conversații reale cu clienții în metadatele site-ului.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Fare Calculator Section -->
        <section id="calculator" class="content-section">
            <div class="container mx-auto p-4 flex justify-center">
                <div class="calculator-card w-full max-w-2xl text-center">
                    <h2 class="text-2xl font-extrabold text-gray-900 mb-2"></h2>
                    <p class="text-gray-500 mb-8">Obțineți o estimare de preț transparentă pentru nevoile dumneavoastră.</p>
                    <div class="flex justify-center mb-6">
                        <div class="mode-toggle-container" id="mode-toggle-container">
                            <div class="mode-toggle-slider" id="mode-slider"></div>
                            <div class="mode-toggle-option active" data-mode="select">
                                <i class="fas fa-map-marker-alt mr-1"></i> Selectare Locație
                            </div>
                            <div class="mode-toggle-option" data-mode="manual">
                                <i class="fas fa-keyboard mr-1"></i> Introducere Manuală
                            </div>
                        </div>
                    </div>
                    <form id="fareForm" class="space-y-8">
                        <div>
                            <div id="select-mode" class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <!-- Origin Dropdown -->
                                <div>
                                    <label for="point-a-trigger" class="block text-sm font-medium text-gray-700 mb-1 text-left">Punctul A (Origine)</label>
                                    <div id="custom-select-a" class="custom-select-container">
                                        <button type="button" id="point-a-trigger" data-value="" class="custom-select-trigger w-full flex justify-between items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-800 sm:text-sm text-left">
                                            <span class="text-gray-500">Selectați o origine...</span>
                                            <i class="fas fa-chevron-down text-gray-400"></i>
                                        </button>
                                        <div id="point-a-options" class="custom-select-options"></div>
                                    </div>
                                </div>
                                <!-- Destination Dropdown -->
                                <div>
                                    <label for="point-b-trigger" class="block text-sm font-medium text-gray-700 mb-1 text-left">Punctul B (Destinație)</label>
                                    <div id="custom-select-b" class="custom-select-container">
                                        <button type="button" id="point-b-trigger" data-value="" class="custom-select-trigger w-full flex justify-between items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-800 sm:text-sm text-left" disabled>
                                            <span class="text-gray-500">Mai întâi alegeți originea...</span>
                                            <i class="fas fa-chevron-down text-gray-400"></i>
                                        </button>
                                        <div id="point-b-options" class="custom-select-options"></div>
                                    </div>
                                </div>
                            </div>
                            <div id="manual-mode" class="hidden">
                                <label for="manual-distance" class="block text-sm font-medium text-gray-700 mb-1 text-left">Distanța (km)</label>
                                <input type="number" id="manual-distance" name="manual-distance" step="0.1" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-800 focus:border-blue-800 sm:text-sm" placeholder="ex: 100">
                            </div>
                        </div>
                        <div class="text-left">
                            <label class="block text-sm font-medium text-gray-700 mb-3">Tipul Vehiculului</label>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                                <div><input type="radio" name="vehicle-type" id="moto" value="9" class="hidden peer" checked><label for="moto" class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer peer-checked:border-blue-800 peer-checked:ring-2 peer-checked:ring-blue-800 transition-all hover:border-gray-400"><i class="fas fa-motorcycle text-3xl mb-2 text-blue-800"></i><span class="text-sm font-semibold block">MOTO / ATV</span><span class="text-xs text-gray-500 block">9 MDL/km</span></label></div>
                                <div><input type="radio" name="vehicle-type" id="small-car" value="10" class="hidden peer"><label for="small-car" class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer peer-checked:border-blue-800 peer-checked:ring-2 peer-checked:ring-blue-800 transition-all hover:border-gray-400"><i class="fas fa-car-side text-3xl mb-2 text-blue-800"></i><span class="text-sm font-semibold block">&lt; 2000 kg</span><span class="text-xs text-gray-500 block">10 MDL/km</span></label></div>
                                <div><input type="radio" name="vehicle-type" id="big-car" value="11" class="hidden peer"><label for="big-car" class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer peer-checked:border-blue-800 peer-checked:ring-2 peer-checked:ring-blue-800 transition-all hover:border-gray-400"><i class="fas fa-truck text-3xl mb-2 text-blue-800"></i><span class="text-sm font-semibold block">&gt; 2000 kg</span><span class="text-xs text-gray-500 block">11 MDL/km</span></label></div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-left">
                            <label for="is-damaged" class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer has-[:checked]:border-blue-800 has-[:checked]:ring-2 has-[:checked]:ring-blue-800 transition-all hover:border-gray-400"><input type="checkbox" id="is-damaged" name="is-damaged" class="h-5 w-5 rounded border-gray-300 text-blue-800 focus:ring-blue-700"><div class="ml-4"><span class="text-sm font-medium text-gray-900">Vehicul avariat</span></div></label>
                            <label for="is-automatic" class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer has-[:checked]:border-blue-800 has-[:checked]:ring-2 has-[:checked]:ring-blue-800 transition-all hover:border-gray-400"><input type="checkbox" id="is-automatic" name="is-automatic" class="h-5 w-5 rounded border-gray-300 text-blue-800 focus:ring-blue-700"><div class="ml-4"><span class="text-sm font-medium text-gray-900">Vehicul blocat</span></div></label>
                        </div>
                        <button type="submit" id="calculateBtn" class="w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-800 hover:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-800 transition-all duration-200 button-hover-effect disabled:opacity-50 disabled:cursor-not-allowed" disabled>Calculează Tariful</button>
                        <p class="text-xs text-gray-500 mt-4 max-w-lg mx-auto">*Calculat folosind cel mai scurt traseu între cele 2 destinații, prețul final depinde de distanța exactă dintre punctul de pornire și cel de oprire și poate fi ușor diferit (+-10%). Va fi confirmat telefonic.</p>
                    </form>
                    <div id="loaderContainer" class="hidden w-full my-8">
                        <div id="counter">0%</div>
                        <img id="loaderTruckImage" src="icon.png" alt="Se calculează..." />
                    </div>
                    <div id="resultContainer" class="hidden my-8">
                        <p id="resultText" class="text-2xl md:text-3xl font-bold text-gray-800"></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Page Overlay -->
    <div id="page-overlay"></div>

    <!-- Assistant Avatar -->
    <div id="assistantContainer" class="assistant-container">
        <div class="social-icons">
            <div class="social-item"><b class="social-label">WhatsApp</b><a href="https://wa.me/37368223614" target="_blank" rel="noopener noreferrer" class="social-icon"><img src="whatsapp.png" alt="WhatsApp"></a></div>
            <div class="social-item"><b class="social-label">Telegram</b><a href="https://t.me/37368223614" target="_blank" rel="noopener noreferrer" class="social-icon"><img src="telegram.png" alt="Telegram"></a></div>
            <div class="social-item"><b class="social-label">Viber</b><a href="viber://chat?number=%2B37368223614" target="_blank" rel="noopener noreferrer" class="social-icon"><img src="viber.png" alt="Viber"></a></div>
        </div>
        <div id="assistantAvatar" class="assistant-avatar">
            <div id="comicBubble" class="comic-bubble">Contactează asistentul digital</div>
            <div class="rotating-border"><div class="relative w-16 h-16 rounded-full border-4 border-orange-500 p-1 bg-white" style="z-index: 2;"><img src="avatar1.png" alt="Avatar Asistent" class="rounded-full"><div class="dot"></div></div></div>
        </div>
    </div>
    
    <!-- Dismiss Drop Zone -->
    <div id="dismiss-drop-zone" class="fixed bottom-8 left-1/2 -translate-x-1/2 z-[51] flex items-center justify-center w-20 h-20 bg-gray-800 bg-opacity-70 rounded-full">
        <i class="fas fa-times text-white text-3xl"></i>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Despre Evacuator2424</h4>
                <p>Suntem partenerul tău de încredere, gata să intervină non-stop, indiferent de situație. Fie că ai nevoie de asistență locală sau transport internațional, echipa noastră de profesioniști îți garantează o soluție rapidă și sigură.</p>
            </div>
            <div class="footer-section">
                <h4></h4>
                <ul class="footer-links">
                    <li><a href="#" data-section="home">Acasă</a></li>
                    <li><a href="#" data-section="services">Servicii</a></li>
                    <li><a href="#" data-section="gallery">Galerie</a></li>
                    <li><a href="#" data-section="flota">Flotă</a></li>
                    <li><a href="#" data-section="recenzii">Recenzii</a></li>
                    <li><a href="#" data-section="calculator">Calculator Tarif</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p><i class="fas fa-phone mr-2"></i> 068223614</p>
                <p><i class="fas fa-envelope mr-2"></i> contact@evacuator2424.com</p>
                <div class="social-icons-row">
                    <a href="https://www.tiktok.com/@YOUR_USERNAME" target="_blank" rel="noopener noreferrer" class="social-icon-link"><i class="fab fa-tiktok"></i></a>
                    <a href="https://www.instagram.com/@YOUR_USERNAME" target="_blank" rel="noopener noreferrer" class="social-icon-link"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.facebook.com/YOUR_PAGE_OR_PROFILE" target="_blank" rel="noopener noreferrer" class="social-icon-link"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <p>&copy; 2025 Evacuator2424. Toate drepturile rezervate. Creat de [Numele Companiei Tale].</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- GENERAL PAGE SETUP ---
            const navLinks = document.querySelectorAll('.nav-link, .footer-links a');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            const sections = document.querySelectorAll('.content-section');
            const assistantContainer = document.getElementById('assistantContainer');
            const assistantAvatar = document.getElementById('assistantAvatar');
            const comicBubble = document.getElementById('comicBubble');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenuCloseButton = document.getElementById('mobile-menu-close-button');
            const pageOverlay = document.getElementById('page-overlay');

            // --- CALCULATOR-SPECIFIC ELEMENTS ---
            const fareForm = document.getElementById('fareForm');
            const resultText = document.getElementById('resultText');
            const modeToggleContainer = document.getElementById('mode-toggle-container');
            const modeSlider = document.getElementById('mode-slider');
            const modeOptions = document.querySelectorAll('.mode-toggle-option');
            const selectModeDiv = document.getElementById('select-mode');
            const manualModeDiv = document.getElementById('manual-mode');
            const customSelectA = document.getElementById('custom-select-a');
            const pointA_Trigger = document.getElementById('point-a-trigger');
            const pointA_OptionsContainer = document.getElementById('point-a-options');
            const customSelectB = document.getElementById('custom-select-b');
            const pointB_Trigger = document.getElementById('point-b-trigger');
            const pointB_OptionsContainer = document.getElementById('point-b-options');
            const manualDistanceInput = document.getElementById('manual-distance');
            const calculateBtn = document.getElementById('calculateBtn');
            const loaderContainer = document.getElementById('loaderContainer');
            const resultContainer = document.getElementById('resultContainer');
            const counterEl = document.getElementById('counter');
            const truckEl = document.getElementById('loaderTruckImage');
            
            let isManualMode = false;

            // --- MOBILE MENU ---
            const openMenu = () => { mobileMenu.classList.add('open'); document.body.classList.add('mobile-menu-open'); };
            const closeMenu = () => { mobileMenu.classList.remove('open'); document.body.classList.remove('mobile-menu-open'); };
            mobileMenuButton.addEventListener('click', openMenu);
            mobileMenuCloseButton.addEventListener('click', closeMenu);

            // --- ASSISTANT & NOTIFICATIONS ---
            setTimeout(() => {
                assistantContainer.classList.add('visible');
            }, 5000);

            let audioCtx;
            const initAudioContext = () => { if (!audioCtx) { audioCtx = new (window.AudioContext || window.webkitAudioContext)(); } if (audioCtx.state === 'suspended') { audioCtx.resume(); } };
            document.body.addEventListener('click', initAudioContext, { once: true });
            document.body.addEventListener('touchstart', initAudioContext, { once: true });
            function playNotificationSound() { if (!audioCtx) return; const o = audioCtx.createOscillator(), g = audioCtx.createGain(); o.connect(g); g.connect(audioCtx.destination); o.type = 'sine'; o.frequency.setValueAtTime(600, audioCtx.currentTime); g.gain.setValueAtTime(0.5, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.3); o.start(audioCtx.currentTime); o.stop(audioCtx.currentTime + 0.3); }
            setTimeout(() => { comicBubble.classList.add('show'); playNotificationSound(); setTimeout(() => { comicBubble.classList.remove('show'); }, 5000); }, 6000);

            // --- NAVIGATION ---
            const handleLinkClick = (e) => {
                e.preventDefault();
                const t = e.currentTarget.getAttribute('data-section');
                document.querySelectorAll('.nav-link').forEach(nav => nav.classList.remove('active'));
                sections.forEach(sec => sec.classList.remove('active'));
                document.getElementById(t).classList.add('active');
                const desktopLink = document.querySelector(`.nav-link[data-section="${t}"]`);
                if(desktopLink) desktopLink.classList.add('active');
                window.scrollTo(0, 0);
                closeMenu();
            };
            navLinks.forEach(link => link.addEventListener('click', handleLinkClick));
            mobileNavLinks.forEach(link => link.addEventListener('click', handleLinkClick));

            // --- HERO CAROUSEL ---
            const slides = document.querySelectorAll('.carousel-slide');
            let currentSlide = 0, autoSlideInterval;
            const updateSlides = () => { slides.forEach((s, i) => { s.classList.remove('active', 'prev', 'next', 'hidden-prev', 'hidden-next'); if (i === currentSlide) s.classList.add('active'); else if (i === (currentSlide - 1 + slides.length) % slides.length) s.classList.add('prev'); else if (i === (currentSlide + 1) % slides.length) s.classList.add('next'); else if (i === (currentSlide - 2 + slides.length) % slides.length) s.classList.add('hidden-prev'); else s.classList.add('hidden-next'); }); };
            const nextSlide = () => { currentSlide = (currentSlide + 1) % slides.length; updateSlides(); };
            const startAutoSlide = () => { autoSlideInterval = setInterval(nextSlide, 10000); };
            document.querySelector('.arrow-right').addEventListener('click', () => { nextSlide(); clearInterval(autoSlideInterval); startAutoSlide(); });
            document.querySelector('.arrow-left').addEventListener('click', () => { currentSlide = (currentSlide - 1 + slides.length) % slides.length; updateSlides(); clearInterval(autoSlideInterval); startAutoSlide(); });
            updateSlides(); startAutoSlide();
            
            // --- RESPONSIVE SERVICE CAROUSEL ---
            const serviceTrack = document.getElementById('service-carousel-track');
            if (serviceTrack) {
                const originalCardsHTML = serviceTrack.innerHTML;
                let serviceCarouselInterval = null;

                const setupServiceCarousel = () => {
                    // Clear any running interval and reset the HTML to its original state
                    clearInterval(serviceCarouselInterval);
                    serviceTrack.innerHTML = originalCardsHTML;
                    serviceTrack.style.transition = 'none';
                    serviceTrack.style.transform = 'translateX(0px)';

                    // Only run carousel logic on screens wider than 767px
                    if (window.innerWidth < 768) {
                        return;
                    }

                    const serviceCards = Array.from(serviceTrack.children);
                    const originalCardCount = serviceCards.length;
                    const cardsToShow = 3;
                    let currentServiceIndex = 0;

                    if (originalCardCount > cardsToShow) {
                        // Clone cards for a seamless loop
                        const clones = serviceCards.map(card => card.cloneNode(true));
                        clones.forEach(clone => serviceTrack.appendChild(clone));

                        const advanceCarousel = () => {
                            currentServiceIndex++;
                            serviceTrack.style.transition = 'transform 0.8s ease-in-out';
                            const cardWidth = serviceCards[0].offsetWidth;
                            const offset = -currentServiceIndex * cardWidth;
                            serviceTrack.style.transform = `translateX(${offset}px)`;

                            // Reset to the beginning for a seamless loop
                            if (currentServiceIndex >= originalCardCount) {
                                setTimeout(() => {
                                    serviceTrack.style.transition = 'none';
                                    currentServiceIndex = 0;
                                    serviceTrack.style.transform = `translateX(0px)`;
                                }, 800);
                            }
                        };
                        
                        serviceCarouselInterval = setInterval(advanceCarousel, 10000);
                    }
                };

                // Setup on initial load
                setupServiceCarousel();

                // Re-setup on window resize
                window.addEventListener('resize', setupServiceCarousel);
            }

            // --- ASSISTANT AVATAR ---
            const toggleAssistant = () => {
                assistantContainer.classList.toggle('active');
                pageOverlay.classList.toggle('active');
                if (comicBubble.classList.contains('show')) comicBubble.classList.remove('show');
            };
            assistantAvatar.addEventListener('click', toggleAssistant);
            pageOverlay.addEventListener('click', toggleAssistant);

            // --- FARE CALCULATOR NEW LOGIC ---

            // Function to reset and disable the destination dropdown
            const resetDestinationsDropdown = () => {
                pointB_Trigger.disabled = true;
                pointB_Trigger.dataset.value = '';
                pointB_Trigger.querySelector('span').textContent = 'Mai întâi alegeți originea...';
                pointB_Trigger.querySelector('span').classList.add('text-gray-500');
                pointB_OptionsContainer.innerHTML = '';
            };
            
            // Populate the Origin (Point A) dropdown from the manifest file
            async function populateOrigins() {
                try {
                    const response = await fetch('Resources/Distances/_manifest.json');
                    if (!response.ok) throw new Error('Nu s-au putut încărca originile.');
                    const origins = await response.json();
                    origins.sort((a, b) => a.name.localeCompare(b.name));
                    
                    pointA_OptionsContainer.innerHTML = '';
                    origins.forEach(origin => {
                        const optionDiv = document.createElement('div');
                        optionDiv.className = 'custom-select-option';
                        optionDiv.textContent = origin.name;
                        optionDiv.dataset.file = origin.file; // Store filename
                        pointA_OptionsContainer.appendChild(optionDiv);
                    });
                } catch (error) {
                    console.error('Eroare la popularea originilor:', error);
                    pointA_Trigger.querySelector('span').textContent = 'Eroare la încărcare';
                    pointA_Trigger.disabled = true;
                }
            }

            // Populate the Destination (Point B) dropdown based on the selected origin
            async function populateDestinations(originFile) {
                resetDestinationsDropdown();
                pointB_Trigger.querySelector('span').textContent = 'Se încarcă...';

                try {
                    const response = await fetch(`Resources/Distances/${originFile}`);
                    if (!response.ok) throw new Error('Fișierul de destinații nu a fost găsit.');
                    const data = await response.json();
                    
                    data.destinations.sort((a, b) => a.name.localeCompare(b.name));
                    
                    pointB_OptionsContainer.innerHTML = '';
                    data.destinations.forEach(dest => {
                        const optionDiv = document.createElement('div');
                        optionDiv.className = 'custom-select-option';
                        optionDiv.textContent = dest.name;
                        optionDiv.dataset.value = dest.distance_km; // Store the distance directly
                        pointB_OptionsContainer.appendChild(optionDiv);
                    });
                    
                    pointB_Trigger.disabled = false;
                    pointB_Trigger.querySelector('span').textContent = 'Selectați o destinație...';
                } catch (error) {
                     console.error('Eroare la încărcarea destinațiilor:', error);
                     pointB_Trigger.querySelector('span').textContent = 'Eroare';
                }
            }

            // Event listener for Origin (Point A) selection
            pointA_OptionsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('custom-select-option')) {
                    const selectedFile = e.target.dataset.file;
                    const selectedText = e.target.textContent;
                    
                    pointA_Trigger.dataset.value = selectedFile;
                    pointA_Trigger.querySelector('span').textContent = selectedText;
                    pointA_Trigger.querySelector('span').classList.remove('text-gray-500');
                    
                    document.querySelectorAll('#point-a-options .custom-select-option').forEach(opt => opt.classList.remove('selected'));
                    e.target.classList.add('selected');
                    customSelectA.classList.remove('open');
                    
                    populateDestinations(selectedFile);
                    validateFareForm();
                }
            });

            // Event listener for Destination (Point B) selection
            pointB_OptionsContainer.addEventListener('click', (e) => {
                 if (e.target.classList.contains('custom-select-option')) {
                    const selectedValue = e.target.dataset.value;
                    const selectedText = e.target.textContent;

                    pointB_Trigger.dataset.value = selectedValue;
                    pointB_Trigger.querySelector('span').textContent = selectedText;
                    pointB_Trigger.querySelector('span').classList.remove('text-gray-500');
                    
                    document.querySelectorAll('#point-b-options .custom-select-option').forEach(opt => opt.classList.remove('selected'));
                    e.target.classList.add('selected');
                    customSelectB.classList.remove('open');
                    
                    validateFareForm();
                }
            });

            // Toggle dropdown visibility
            pointA_Trigger.addEventListener('click', (e) => { e.stopPropagation(); customSelectA.classList.toggle('open'); });
            pointB_Trigger.addEventListener('click', (e) => { e.stopPropagation(); customSelectB.classList.toggle('open'); });
            document.addEventListener('click', () => {
                customSelectA.classList.remove('open');
                customSelectB.classList.remove('open');
            });

            const validateFareForm = () => {
                let isValid = false;
                if (isManualMode) {
                    const distance = parseFloat(manualDistanceInput.value);
                    isValid = !isNaN(distance) && distance > 0;
                } else {
                    isValid = pointA_Trigger.dataset.value !== "" && pointB_Trigger.dataset.value !== "";
                }
                calculateBtn.disabled = !isValid;
            };

            // Initialize slider position
            const updateSliderPosition = (option) => {
                const optionRect = option.getBoundingClientRect();
                const containerRect = modeToggleContainer.getBoundingClientRect();
                const offsetLeft = optionRect.left - containerRect.left;
                modeSlider.style.width = `${optionRect.width}px`;
                modeSlider.style.transform = `translateX(${offsetLeft}px)`;
            };

            // Set initial slider position
            const activeOption = document.querySelector('.mode-toggle-option.active');
            updateSliderPosition(activeOption);

            // Handle mode toggle clicks
            modeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const mode = option.dataset.mode;
                    
                    // Update active state
                    modeOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    
                    // Update slider position
                    updateSliderPosition(option);
                    
                    // Toggle mode
                    if (mode === 'manual') {
                        isManualMode = true;
                        selectModeDiv.classList.add('hidden');
                        manualModeDiv.classList.remove('hidden');
                    } else {
                        isManualMode = false;
                        selectModeDiv.classList.remove('hidden');
                        manualModeDiv.classList.add('hidden');
                    }
                    
                    resultContainer.classList.add('hidden');
                    validateFareForm();
                });
            });
            
            manualDistanceInput.addEventListener('input', validateFareForm);

            function runTowingAnimation() { return new Promise(resolve => { counterEl.style.display = 'block'; truckEl.style.display = 'block'; const containerWidth = loaderContainer.offsetWidth; let truckPos_fromLeft = containerWidth; const counterStartPos_fromLeft = 50; let counterValue = 0; let isTowing = false; const totalDuration = 3000, approachDuration = totalDuration * 0.3, loadingDuration = totalDuration * 0.7; const frameRate = 60, frameInterval = 1000 / frameRate; const approachFrames = approachDuration / frameInterval, loadingFrames = loadingDuration / frameInterval; const hookOffset = 120, targetPosition_fromLeft = counterStartPos_fromLeft + hookOffset; let frameCount = 0; const animation = setInterval(() => { frameCount++; if (!isTowing) { const progress = frameCount / approachFrames; const easeProgress = 1 - Math.pow(1 - progress, 3); truckPos_fromLeft = containerWidth - (containerWidth - targetPosition_fromLeft) * easeProgress; truckEl.style.right = (containerWidth - truckPos_fromLeft) + 'px'; if (frameCount >= approachFrames) { isTowing = true; frameCount = 0; } } else { const progress = frameCount / loadingFrames; counterValue = Math.min(100, progress * 100); counterEl.textContent = Math.round(counterValue) + '%'; const currentPos_fromLeft = targetPosition_fromLeft + (containerWidth - targetPosition_fromLeft + hookOffset) * progress; counterEl.style.left = (currentPos_fromLeft - hookOffset) + 'px'; truckEl.style.right = (containerWidth - currentPos_fromLeft) + 'px'; if (counterValue >= 100 || frameCount >= loadingFrames) { clearInterval(animation); counterEl.textContent = '100%'; setTimeout(() => { counterEl.style.display = 'none'; truckEl.style.display = 'none'; counterEl.style.left = counterStartPos_fromLeft + 'px'; truckEl.style.right = '-100px'; counterEl.textContent = '0%'; resolve(); }, 300); } } }, frameInterval); }); }

            fareForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                calculateBtn.disabled = true;
                calculateBtn.textContent = 'Se calculează...';
                resultContainer.classList.add('hidden');
                loaderContainer.classList.remove('hidden');

                // Scroll immediately to show the animation
                setTimeout(() => {
                    loaderContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 50);

                await runTowingAnimation();

                const distance = isManualMode ? parseFloat(manualDistanceInput.value) : parseFloat(pointB_Trigger.dataset.value);
                
                const rate = parseFloat(document.querySelector('input[name="vehicle-type"]:checked').value);
                const damagedFee = document.getElementById('is-damaged').checked ? 100 : 0;
                const transmissionFee = document.getElementById('is-automatic').checked ? 100 : 0;
                const baseFare = 100;
                const totalFare = baseFare + (distance * rate * 2) + damagedFee + transmissionFee;

                resultText.textContent = `Tarif Estimat: ${totalFare.toFixed(2)} MDL`;
                
                loaderContainer.classList.add('hidden');
                resultContainer.classList.remove('hidden');
                calculateBtn.textContent = 'Calculează Tariful';
                validateFareForm();
            });
            
            // Initial calls
            populateOrigins();
            validateFareForm();
            
            // --- DRIVER STATUS ---
            const statusMap = { 'disponibil': { text: 'Disponibil', color: 'bg-green-500', ledClass: 'pulse-normal' }, 'indisponibil': { text: 'Indisponibil', color: 'bg-red-500', ledClass: '' }, 'cursa-lunga': { text: 'Cursă Lungă', color: 'bg-orange-500', ledClass: 'pulse-slow' }, 'cursa-scurta': { text: 'Cursă Scurtă', color: 'bg-yellow-400', ledClass: 'pulse-fast' }, 'default': { text: 'Necunoscut', color: 'bg-gray-400', ledClass: '' } };
            async function updateDriverStatus() {
                const driverId = 1;
                const statusContainer = document.getElementById(`driver-${driverId}-status`);
                if (!statusContainer) return;
                const led = statusContainer.querySelector('.status-led');
                const text = statusContainer.querySelector('span:last-child');
                try {
                    const response = await fetch(`driver${driverId}.json?v=${new Date().getTime()}`);
                    if (!response.ok) throw new Error('Network response was not ok.');
                    const data = await response.json();
                    const statusInfo = statusMap[data.status] || statusMap['default'];
                    led.className = `status-led ${statusInfo.color} ${statusInfo.ledClass}`;
                    text.textContent = statusInfo.text;
                } catch (error) {
                    console.error(`Could not fetch status for driver ${driverId}:`, error);
                    const errorInfo = statusMap['default'];
                    led.className = `status-led ${errorInfo.color}`;
                    text.textContent = 'Eroare';
                }
            }
            updateDriverStatus();
            setInterval(updateDriverStatus, 30000);

            // --- DISMISSIBLE ASSISTANT LOGIC ---
            const dismissDropZone = document.getElementById('dismiss-drop-zone');
            assistantAvatar.draggable = true;

            // --- Desktop (Mouse) Events ---
            assistantAvatar.addEventListener('dragstart', () => {
                // Use a timeout to allow the browser to capture the drag image
                setTimeout(() => {
                    assistantContainer.classList.add('dragging');
                }, 0);
                dismissDropZone.classList.add('visible');
            });

            assistantAvatar.addEventListener('dragend', () => {
                assistantContainer.classList.remove('dragging');
                dismissDropZone.classList.remove('visible');
                dismissDropZone.classList.remove('hover'); // Ensure hover state is removed
            });

            dismissDropZone.addEventListener('dragover', (e) => {
                e.preventDefault(); // Necessary to allow dropping
            });

            dismissDropZone.addEventListener('dragenter', (e) => {
                e.preventDefault();
                dismissDropZone.classList.add('hover');
            });

            dismissDropZone.addEventListener('dragleave', () => {
                dismissDropZone.classList.remove('hover');
            });

            dismissDropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                assistantContainer.style.display = 'none';
                dismissDropZone.classList.remove('visible');
            });

            // --- Mobile (Touch) Events ---
            let isTouching = false;
            let initialTouchX, initialTouchY;
            let containerRect;
            let dropZoneRect;

            const isOverDropZone = (x, y) => {
                // Recalculate dropZoneRect just in case of layout shifts
                const currentDropZoneRect = dismissDropZone.getBoundingClientRect();
                return (
                    x > currentDropZoneRect.left &&
                    x < currentDropZoneRect.right &&
                    y > currentDropZoneRect.top &&
                    y < currentDropZoneRect.bottom
                );
            };

            assistantAvatar.addEventListener('touchstart', (e) => {
                if (e.touches.length === 1) {
                    isTouching = true;
                    assistantContainer.style.transition = 'none'; // Disable transition for smooth dragging
                    
                    const touch = e.touches[0];
                    initialTouchX = touch.clientX;
                    initialTouchY = touch.clientY;
                    
                    containerRect = assistantContainer.getBoundingClientRect();
                    assistantContainer.style.top = `${containerRect.top}px`;
                    assistantContainer.style.left = `${containerRect.left}px`;
                    assistantContainer.style.right = 'auto';
                    assistantContainer.style.bottom = 'auto';
                    assistantContainer.style.transform = '';
                    
                    assistantContainer.classList.add('dragging');
                    dismissDropZone.classList.add('visible');
                }
            }, { passive: true });

            document.addEventListener('touchmove', (e) => {
                if (!isTouching) return;
                
                e.preventDefault();

                const touch = e.touches[0];
                const currentX = touch.clientX;
                const currentY = touch.clientY;
                const dx = currentX - initialTouchX;
                const dy = currentY - initialTouchY;

                assistantContainer.style.transform = `translate(${dx}px, ${dy}px)`;

                if (isOverDropZone(currentX, currentY)) {
                    dismissDropZone.classList.add('hover');
                } else {
                    dismissDropZone.classList.remove('hover');
                }
            }, { passive: false });

            document.addEventListener('touchend', (e) => {
                if (!isTouching) return;
                isTouching = false;

                const touch = e.changedTouches[0];
                const finalX = touch.clientX;
                const finalY = touch.clientY;

                if (isOverDropZone(finalX, finalY)) {
                    assistantContainer.style.display = 'none';
                } else {
                    // Reset styles to snap back using CSS
                    assistantContainer.style.top = '';
                    assistantContainer.style.left = '';
                    assistantContainer.style.right = '';
                    assistantContainer.style.bottom = '';
                    assistantContainer.style.transform = '';
                    assistantContainer.style.transition = ''; // Re-enable transitions
                }

                assistantContainer.classList.remove('dragging');
                dismissDropZone.classList.remove('visible');
                dismissDropZone.classList.remove('hover');
            });
        });
    </script>

</body>
</html>